import{d as v,n as P,p as h,e as k,f as a,i as o,w as u,bd as x,h as n,F as K,m as g,o as w,x as C,j as B}from"./index-d4d1dfb2.js";import{l as m}from"./index-074aac2f.js";import{T as c}from"./TextareaCopyable-762809f4.js";import{a as T}from"./defaults-4d6daddf.js";import{a as V}from"./computedRefreshable-6758a5b9.js";import{_ as R}from"./FormItem-cc07462d.js";import{_ as A}from"./InputNumber-0805157e.js";import"./___vite-browser-external_commonjs-proxy-e35a6e85.js";import"./Copy-750171ce.js";import"./Scrollbar-8fa0a765.js";import"./use-form-item-d41cebbd.js";import"./use-locale-bb735d99.js";import"./Button-510b489f.js";import"./Remove-e53214a0.js";const N="/assets/prime.worker.min-e367bd53.js";function j({bits:r=2048}){return new Promise((e,t)=>m.pki.rsa.generateKeyPair({bits:r,workerScript:N},(s,i)=>{if(s){t(s);return}e(i)}))}async function E(r={}){const{privateKey:e,publicKey:t}=await j(r);return{publicKeyPem:m.pki.publicKeyToPem(t),privateKeyPem:m.pki.privateKeyToPem(e)}}const F={style:{flex:"0 0 100%"}},D={"item-style":"flex: 1 1 0",style:{"max-width":"600px"},"mx-auto":"",flex:"","gap-3":""},O=a("h3",null,"Public key",-1),S=a("h3",null,"Private key",-1),$=v({__name:"rsa-key-pair-generator",setup(r){const e=P(2048),t={publicKeyPem:"",privateKeyPem:""},{attrs:s}=h({source:e,rules:[{message:"Bits should be 256 <= bits <= 16384 and be a multiple of 8",validator:l=>l>=256&&l<=16384&&l%8===0}]}),[i,_]=V(()=>T(()=>E({bits:e.value}),t),t);return(l,p)=>{const f=A,d=R,y=g;return w(),k(K,null,[a("div",F,[a("div",D,[o(d,x({label:"Bits :"},n(s),{"label-placement":"left","label-width":"100"}),{default:u(()=>[o(f,{value:n(e),"onUpdate:value":p[0]||(p[0]=b=>C(e)?e.value=b:null),min:"256",max:"16384",step:"8"},null,8,["value"])]),_:1},16),o(y,{onClick:n(_)},{default:u(()=>[B(" Refresh key-pair ")]),_:1},8,["onClick"])])]),a("div",null,[O,o(c,{value:n(i).publicKeyPem},null,8,["value"])]),a("div",null,[S,o(c,{value:n(i).privateKeyPem},null,8,["value"])])],64)}}});export{$ as default};
